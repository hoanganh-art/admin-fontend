<!DOCTYPE html>
<html>
<head>
    <title>Quick API Test</title>
</head>
<body>
    <h1>API Data Test</h1>
    <pre id="output">Loading...</pre>

    <script>
        async function test() {
            try {
                const response = await fetch('http://127.0.0.1:6346/api/products?page=1&per_page=12');
                const data = await response.json();
                
                let output = "=== FULL RESPONSE ===\n";
                output += JSON.stringify(data, null, 2) + "\n\n";
                
                output += "=== ANALYSIS ===\n";
                output += "data.data exists: " + (data.data?.data ? "YES" : "NO") + "\n";
                output += "data.data is array: " + (Array.isArray(data.data?.data) ? "YES" : "NO") + "\n";
                output += "data.data length: " + (data.data?.data?.length || 0) + "\n";
                
                if (data.data?.data?.length > 0) {
                    output += "\n=== FIRST PRODUCT ===\n";
                    output += JSON.stringify(data.data.data[0], null, 2);
                }
                
                document.getElementById('output').textContent = output;
                
            } catch (error) {
                document.getElementById('output').textContent = "ERROR: " + error.message;
            }
        }
        
        test();
    </script>
</body>
</html>
